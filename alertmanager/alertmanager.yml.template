global:
  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
  resolve_timeout: 5m

# –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∞–ª–µ—Ä—Ç–æ–≤
route:
  # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∞–ª–µ—Ä—Ç—ã –ø–æ —ç—Ç–∏–º –º–µ—Ç–∫–∞–º
  group_by: ['alertname', 'severity', 'component']
  
  # –ñ–¥–∞—Ç—å 30 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø–µ—Ä–≤–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  # (—á—Ç–æ–±—ã —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–ª–µ—Ä—Ç–æ–≤ –≤ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ)
  group_wait: 30s
  
  # –ï—Å–ª–∏ –ø—Ä–∏—à–ª–∏ –Ω–æ–≤—ã–µ –∞–ª–µ—Ä—Ç—ã –≤ —Ç—É –∂–µ –≥—Ä—É–ø–ø—É, –ø–æ–¥–æ–∂–¥–∞—Ç—å 5 –º–∏–Ω—É—Ç
  group_interval: 5m
  
  # –ü–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –µ—Å–ª–∏ –∞–ª–µ—Ä—Ç –Ω–µ —Ä–µ—à—ë–Ω
  repeat_interval: 12h
  
  # –ü–æ–ª—É—á–∞—Ç–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  receiver: 'default-receiver'
  
  # –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∞–ª–µ—Ä—Ç–æ–≤
  routes:
    - match:
        severity: critical
      receiver: 'critical-receiver'
      repeat_interval: 1h

# –ü–æ–ª—É—á–∞—Ç–µ–ª–∏ (–∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
receivers:
     - name: 'telegram-receiver'
       telegram_configs:
      - bot_token: '${TELEGRAM_BOT_TOKEN}'
        chat_id: ${TELEGRAM_CHAT_ID}
           message: |
             üî• *Alert:* {{ .GroupLabels.alertname }}
             *Severity:* {{ .CommonLabels.severity }}
             {{ range .Alerts }}
             *Description:* {{ .Annotations.description }}
             {{ end }}
           parse_mode: 'Markdown'
   
   route:
     receiver: 'telegram-receiver'  # –¢–µ–ø–µ—Ä—å –≤—Å—ë –∏–¥—ë—Ç –≤ Telegram

# –ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∞–ª–µ—Ä—Ç–æ–≤
inhibit_rules:
  # –ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å —É–ø–∞–ª (ServiceDown), –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∞–ª–µ—Ä—Ç—ã –æ –µ–≥–æ –º–µ—Ç—Ä–∏–∫–∞—Ö
  - source_match:
      severity: 'critical'
      alertname: 'ServiceDown'
    target_match:
      component: 'service'
    equal: ['instance']
